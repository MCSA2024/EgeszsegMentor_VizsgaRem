<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EgeszsegMentor</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="/frontend/html/bootstrap.css">
    <link rel="stylesheet" href="/frontend/html/kalkulator_style.css">
    <style>
        body {
            background-image: url('/images/dark.jpg');
            background-size: cover;
            background-repeat: repeat;
            background-position: center;
            position: relative;
        }
    </style>
</head>

<body id="page-top">


    <nav class="navbar navbar-expand-lg bg-dark text-uppercase fixed-top" id="kalkNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger sajat" href="#page-top">Kalkulátorok</a>
            <a href="../html/home.html" class="btn btn-dark btn-lg " role="button"><i class="fas fa-home"></i> </a>
    
        </div>
    </nav>


        <section class="page-section bg-primary text-white mb-0" id="bmi">
            <div class="container d-flex align-items-center flex-column">

                <h1>BMI Kalkulátor</h1>
                <h4>A BMI kalkulátor neve az angol Body Mass Index-, azaz a testtömegindex rövidítése. A testtömeg-index (BMI) kalkulátor segítségével megállapítható, hogy a testmagasságához képest egészséges testsúly tartományba esik-e. Szeretné tudni, hogy a súlya ideális-e, túlsúlyos vagy alultáplált-e a magassága és súlya alapján?</h4>

                <div class="calc-outer-wrap">
                
                    <p>Magasság (cm)</p>

                    <input type="text" id="height" />

                    <p>Súly (kg)</p>

                    <input type="text" id="weight" />

                    <br>
                    <div class="btn-wrap field-outer">
                        <button id="btn" class="form-submit">Számol</button>
                    </div>

                    <div id="result"></div>
                   
                </div>
                <h5>A testtömegindex (BMI) egy olyan egyszerű módszer, amelyet gyakran használnak az egészséges testsúly és az elhízás megítélésére.
                    <br>
                    A BMI kiszámítása egyszerű képlet alapján történik. A képlet így néz ki:
                    <br>
                    BMI = testtömeg (kg) / testmagasság (m)^2
                    <br>
                    azaz kg-ban meghatározott aktuális testsúly osztva a méterben megadott testmagasság négyzetével
                    <br>
                    Például, ha valaki 70 kg, és 1,75 méter magas, akkor a BMI-je:
                    <br>
                    BMI = 70 / (1,75)^2 = 22,86
                    <br>
                    A BMI érték alapján az egyén testsúlyát különböző kategóriákba sorolhatjuk:
                    <br>
                    BMI < 18,5 --- alultápláltság
                    <br>
                    18,5 ≤ BMI < 25 --- normál/ideális testsúly
                    <br>
                    25 ≤ BMI < 30 --- túlsúly</h5>

                
            </div>




            </div>
        </section>

        <section class="page-section bg-primary text-white mb-0" id="kcal">
            <div class="container d-flex align-items-center flex-column">

                <h1>BMR / Napi kalóriaszükséglet kalkulátor</h1>
                <h5>A BMR, vagyis a Basal Metabolic Rate, magyarul alapanyagcsere, a szervezet energiafelhasználása nyugalmi állapotban. A BMR egy szám, amely azt határozza meg, hogy mekkora kalóriabevitelre van naponta szükséged az alapvető életfunkciók és az aktuális testsúly megőrzésére. Az alapanyagcsere egyszerűbb méréséhez használd az online BMR kalkulátorunkat.</h5>
                <div class="calc-outer-wrap">
                    <div id="form-error" style="display:none;"></div>
                    <form class="calc-form" id="calc-form">
                        <div class="form-fields">

                            <div class="field-outer">
                                <label for="distance" class="top-label">Életkor:</label>
                                <div class="field-items">
                                    <div class="field field-large">
                                        <input type="text" name="age" id="age" inputmode="numeric" pattern="[0-9]*">
                                    </div>

                                    <div class="field field-medium">
                                        <select name="gender">
                                            <option value="Female">Nő</option>
                                            <option value="Male">Férfi</option>

                                        </select>

                                    </div>
                                </div>
                            </div>

                            <div class="field-outer">
                                <label for="height" class="top-label">Magasság:</label>
                                <div class="field-items">
                                    <div class="field">
                                        <input type="text" name="height_ft" id="height-ft" inputmode="numeric"
                                            pattern="[0-9]*">
                                        <label for="height-ft">láb</label>
                                    </div>
                                    <div class="field">
                                        <input type="text" name="height_in" id="height-in" inputmode="numeric"
                                            pattern="[0-9]*">
                                        <label for="height-in">hüvelyk</label>
                                    </div>
                                    <div class="field">
                                        <input type="text" name="height_cm" id="height-cm" inputmode="numeric"
                                            pattern="[0-9]*">
                                        <label for="height-cm">vagy centiméter</label>
                                    </div>
                                </div>
                            </div>

                            <div class="field-outer">
                                <label for="weight" class="top-label">Az Ön testsúlya:</label>
                                <div class="field-items">
                                    <div class="field field-large">
                                        <input type="text" name="weight" id="weight" inputmode="numeric"
                                            pattern="[0-9]*">
                                    </div>
                                    <div class="field field-small">
                                        <select name="weight_unit">
                                            <option value="kg">kg</option>
                                            <option value="lb">lb</option>
                                            
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="btn-wrap field-outer">
                                <button class="form-submit">Számol</button>
                            </div>
                        </div>


                    </form>
                    <div id="results" style="display:none;"></div>
                
                </div>

                <h5>Ha szeretnéd megtudni, hogy mennyi kalóriát kell naponta bevinned, akkor szorozd meg a BMR-ed a fizikai aktivitás együtthatóval az alábbi táblázat alapján. Az eredmény így azt is figyelembe fogja venni, hogy milyen a fizikai aktivitásod szintje.</h5>

                <table class="table table-dark">
                    <thead>
                      <tr>
                        <th>FIZIKAI AKTIVITÁS SZINTJE</th>
                        <th>JELLEMZŐ</th>
                        <th>FIZIKAI AKTIVITÁS EGYÜTTHATÓ</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>Ülő típus</td>
                        <td>minimális vagy semmilyen mozgás</td>
                        <td>1,2</td>
                      </tr>
                      <tr>
                        <td>Enyhén aktív típus</td>
                        <td>edzés heti 1-3 alkalommal</td>
                        <td>1,375</td>
                      </tr>
                      <tr>
                        <td>Közepesen aktív típus</td>
                        <td>edzés heti 3-5 alkalommal</td>
                        <td>1,55</td>
                      </tr>
                      <tr>
                        <td>Nagyon aktív típus</td>
                        <td>edzés heti 6-7 alkalommal</td>
                        <td>1,725</td>
                      </tr>
                      <tr>
                        <td>Extra aktív típus</td>
                        <td>nagyon intenzív, mindennapos edzés vagy fizikailag megterhelő munka</td>
                        <td>1,9</td>
                      </tr>
                    </tbody>
                  </table>


            </div>
        </section>



    </body>

    <script>

        window.onload = () => {
            let button = document.querySelector("#btn");

            // BMI kalkulátor
            button.addEventListener("click", calculateBMI);
        };

        function calculateBMI() {

            /* A felhasználótól beérkező adatokat a magasság változóba tároljuk.
            Mivel a bemenet szöveg típusú, ezért típuskonverzió szükséges. */
            let height = parseInt(document
                .querySelector("#height").value);

            /* A felhasználótól beérkező adatokat a súly változóba tároljuk.
            Mivel a bemenet szöveg típusú, ezért típuskonverzió szükséges.*/
            let weight = parseInt(document
                .querySelector("#weight").value);

            let result = document.querySelector("#result");

            // Ellenőrzés, hogy a felhasználó megfelelő adatot adott-e meg.
            
            if (height === "" || isNaN(height))
                result.innerHTML = "A magasság megadása kötelező!";

            else if (weight === "" || isNaN(weight))
                result.innerHTML = "A súly megadása kötelező!";

            // ha mind a kettő valós,akkor számítás
            else {

                // 2 tizedes jegyre
                let bmi = (weight / ((height * height)
                    / 10000)).toFixed(2);

                // BMI sávok
                if (bmi < 18.6) result.innerHTML =
                    `Alultáplált : <span>${bmi}</span>`;

                else if (bmi >= 18.6 && bmi < 24.9)
                    result.innerHTML =
                        `Normális : <span>${bmi}</span>`;

                else result.innerHTML =
                    `Túlsúlyos : <span>${bmi}</span>`;
            }
        }

        (function () {
            const form = document.getElementById('calc-form');
            const results = document.getElementById('results');
            const errors = document.getElementById('form-error');

            /**
             * Display a form validation error
             *
             * @param   {String}  msg  The validation message
             * @return  {Boolen}       Returns false
             */
            function errorMessage(msg) {
                errors.innerHTML = msg;
                errors.style.display = '';
                return false;
            }

            /**
             * Jelenítse meg a számítási eredményeket
             *
             * @param   {Integer}  calories   The calories burned
             * @param   {Integer}  distance   The distance run
             * @param   {String}   unit       The distance unit (miles or kilometers)
             * @param   {Integer}  burnRate   The calories per distance burn rate
             * @param   {Integer}  calsPerHr  The calories burned per hour
             */
            function showResults(calories) {
                results.innerHTML = `<p>Az ön alapanyag-csere rátája (BMR): <strong>${(calories).toFixed(2)} </strong> kalória/nap.</p><a href="#" id="rs">revise</a>`;
                results.style.display = ''
                form.style.display = 'none'
                errors.style.display = 'none'
            }

            /**
             * Rejtse el az eredményeket és állítsa vissza az űrlapot
             */
            function resetForm(e) {
                if (e.target.id = 'rs') {
                    e.preventDefault();
                    results.style.display = 'none';
                    form.style.display = '';
                    form.reset()
                }
            }

            /**
             * Kezelje az űrlap beküldését
             */
            function submitHandler(e) {
                e.preventDefault();

                // Életkor
                let age = parseFloat(form.age.value);
                
                if (isNaN(age) || age < 0) {
                    return errorMessage('Kérem adjon meg valós életkort!');
                }

                // magasság
                let heightCM = parseFloat(form.height_cm.value);
                if (isNaN(heightCM) || heightCM < 0) {

                    let heightFeet = parseFloat(form.height_ft.value);
                    if (isNaN(heightFeet) || heightFeet < 0) {
                        return errorMessage('Kérem adjon meg valós Magasságot!');
                    }
                    let heightInches = parseFloat(form.height_in.value);
                    if (isNaN(heightInches) || heightInches < 0) {
                        heightInches = 0;
                    }
                    heightCM = (2.54 * heightInches) + (30.4 * heightFeet)

                }

                let weight = parseFloat(form.weight.value);
                if (isNaN(weight) || weight < 0) {
                    return errorMessage('Kérem adjon meg valós testsúlyt!');
                }

                if (form.weight_unit.value == 'lb') {
                    weight = 0.453592 * weight;
                }

                let calories = 0;
                if (form.gender.value == 'Female') {
                    //Nőknél 
                    calories = 655.09 + (9.56 * weight) + (1.84 * heightCM) - (4.67 * age);
                } else {
                    calories = 66.47 + (13.75 * weight) + (5 * heightCM) - (6.75 * age);
                }

                // Eredmény
                showResults(calories);
            }

        
            form.addEventListener('submit', submitHandler);
            results.addEventListener('click', resetForm, true);

        })();
    </script>

</html>